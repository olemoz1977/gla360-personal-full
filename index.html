<!doctype html>
<html lang="lt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GLA360 Personal (pilna versija) â€“ pradÄ—ti vertinimÄ…</title>
  <meta name="description" content="AsmeninÄ— 360Â° lyderystÄ—s apklausa be serverio â€“ GitHub Pages. 5 klasteriai, 15 kompetencijÅ³, 72 klausimai.">
  styles.css
</head>
<body>
<header class="head">
  <h1>GLA360 Personal â€“ <span class="badge">pilna versija</span></h1>
  <p class="muted">Sukurkite vertinimÄ…, iÅ¡siÅ³skite nuorodas vertintojams, surinkite JSON failus ir sugeneruokite ataskaitÄ… (Self vs Others, svoriai, radarai, komentarai).</p>
</header>

<main class="wrap">
  <section class="card">
    <h2>Naujas vertinimas</h2>
    <p>1) Ä®veskite savo vardÄ… ir projekto pavadinimÄ…. 2) Nurodykite, kiek rateriÅ³ kiekvienoje grupÄ—je. 3) Spauskite <strong>Sukurti</strong> â€“ gausite <em>Assessment ID</em> ir nuorodas.</p>

    <div class="grid2">
      <label>JÅ«sÅ³ vardas
        <input id="leaderName" placeholder="Vardas PavardÄ—" autocomplete="name">
      </label>
      <label>Projekto pavadinimas
        <input id="projectName" placeholder="pvz., 2025 Q4 lyderystÄ—s Ä¯sivertinimas">
      </label>
    </div>

    <div class="grid4">
      <label>Vadovas (boss)
        <input id="nBoss" type="number" min="0" step="1" value="1" inputmode="numeric">
      </label>
      <label>Kolegos (peer)
        <input id="nPeers" type="number" min="0" step="1" value="3" inputmode="numeric">
      </label>
      <label>Pavaldiniai (report)
        <input id="nReports" type="number" min="0" step="1" value="4" inputmode="numeric">
      </label>
      <label>Kiti (other)
        <input id="nOthers" type="number" min="0" step="1" value="2" inputmode="numeric">
      </label>
    </div>

    <button id="create" type="button">Sukurti vertinimÄ…</button>
    <div id="links" class="mt"></div>
  </section>

  <section class="card">
    <h2>Ataskaita</h2>
    <p>Surinkus JSON failus iÅ¡ vertintojÅ³, atidarykite report.htmlreport.html</a> ir Ä¯kelkite juos. GalÄ—site nustatyti svorius grupÄ—ms, matyti radarÄ…, klasteriÅ³ lentelÄ™, Top 3 spragas/stiprybes, komentarus ir eksportuoti Ä¯ PDF/JSON.</p>
  </section>

  <section class="card">
    <h2>Kas tai?</h2>
    <p class="muted">Å is Ä¯rankis atkartoja 360 logikÄ… (5 klasteriai, 15 kompetencijÅ³, ~72 Likert klausimai ir radarinÄ—s vizualizacijos) asmeniniam naudojimui, remiantis vieÅ¡ai apraÅ¡yta GLA360 struktÅ«ra (Global Coach Group; LEAPING KOI; MGSCC). Tai <strong>ne oficialus</strong> GLA360 produktas ar ataskaita.</p>
  </section>

  <section id="sources" class="card">
    <h2>Nuorodos</h2>
    <ul class="muted">
      <li>Global Coach Group â€“ GLA360 (apraÅ¡as, 15 kompetencijÅ³, 72 klausimai, ataskaitos logika): https://globalcoachgroup.com/gla360/globalcoachgroup.com/gla360</a></li>
      <li>LEAPING KOI â€“ metodikos santrauka (norminÄ— grupÄ—, 72 Q, 5 klasteriai): https://www.leapingkoi.com/gla360.htmlleapingkoi.com/gla360.html</a></li>
      <li>MGSCC â€“ â€From awareness to actionâ€œ (elgesiÅ³ fokusas, radaro logika): https://mgscc.net/gla360/mgscc.net/gla360</a></li>
    </ul>
  </section>
</main>

<!-- IÅ¡orinis skriptas (jei turite GLA.newAssessmentId apibrÄ—Å¾imÄ…) -->
app.js</script>

<script>
(function(){
  // Atsarginis ID generatorius, jei GLA.newAssessmentId nÄ—ra apibrÄ—Å¾tas app.js
  function fallbackId(leader, project){
    const rand = Math.random().toString(36).slice(2,10);
    const ts = new Date().toISOString().replace(/[-:TZ.]/g,'').slice(0,14);
    return `${leader.replace(/\s+/g,'_')}-${ts}-${rand}`;
  }

  const getId = (leader, project) => (window.GLA && typeof GLA.newAssessmentId === 'function')
      ? GLA.newAssessmentId(leader, project)
      : fallbackId(leader, project);

  const createBtn = document.getElementById('create');
  const linksBox = document.getElementById('links');

  createBtn.addEventListener('click', () => {
    const leader = (document.getElementById('leaderName').value || 'Lyderis').trim();
    const project = (document.getElementById('projectName').value || 'Asmeninis 360 vertinimas').trim();
    const aid = getId(leader, project);

    const n = {
      boss: Number(document.getElementById('nBoss').value) || 0,
      peer: Number(document.getElementById('nPeers').value) || 0,
      report: Number(document.getElementById('nReports').value) || 0,
      other: Number(document.getElementById('nOthers').value) || 0
    };

    const base = location.href.replace(/index\.html.*$/,'').replace(/[#?].*$/,'');
    const mk = (role, i) => `${base}survey.html?aid=${encodeURIComponent(aid)}&role=${encodeURIComponent(role)}${i?`&i=${i}`:''}`;

    let html = `<p><strong>Assessment ID:</strong> <code>${aid}</code></p>`;

    // SELF â€“ viena savivertinimo nuoroda
    const selfUrl = mk('self', 1);
    html += `<p>ğŸ“ Savivertinimo nuoroda (SELF): ${selfUrl}${selfUrl}</a></p>`;

    // Kitos grupÄ—s
    ['boss','peer','report','other'].forEach(role => {
      if(n[role] > 0){
        html += `<details open><summary>${role} (${n[role]})</summary><ol>`;
        for(let i=1; i<=n[role]; i++){
          const url = mk(role, i);
          html += `<li>${url}${url}</a></li>`;
        }
        html += `</ol></details>`;
      }
    });

    html += `<p class="muted">IÅ¡siÅ³skite Å¡ias nuorodas savo rateriams el. paÅ¡tu / Å¾inute. UÅ¾pildÄ™ jie atsisiÅ³s *.json ir atsiÅ³s jums.</p>`;
    linksBox.innerHTML = html;
  });
})();
</script>
</body>
</html>
