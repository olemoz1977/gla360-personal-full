<!doctype html>
<html lang="lt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GLA360 Personal (pilna versija) â€“ pradÄ—ti vertinimÄ…</title>
  <meta name="description" content="AsmeninÄ— 360Â° lyderystÄ—s apklausa be serverio â€“ GitHub Pages. 5 klasteriai, 15 kompetencijÅ³, 72 klausimai.">
  styles.css
  <style>
    /* jei prireiktÅ³ minimalaus stiliaus kai kuriose vietose */
    .wrap { max-width: 980px; margin: 0 auto; padding: 16px; }
    .grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .grid4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
    .card { background:#fff; border:1px solid #e5e7eb; border-radius:8px; padding:16px; margin:12px 0; }
    .mt { margin-top: 12px; }
    .muted { color:#6b7280; }
    .badge { background:#eef2ff; color:#3730a3; padding:2px 8px; border-radius:999px; font-size:0.9em; }
    details > summary { cursor: pointer; margin: 6px 0; }
    code { background:#f3f4f6; padding: 2px 6px; border-radius: 4px; }
    label input { display:block; width:100%; padding:8px; margin-top:4px; }
    button { padding:10px 14px; border-radius:8px; border:1px solid #1f2937; background:#111827; color:#fff; cursor:pointer; }
    button:hover { background:#0b1220; }
    @media (max-width: 720px) {
      .grid2 { grid-template-columns: 1fr; }
      .grid4 { grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>
<body>
<header class="head wrap">
  <h1>GLA360 Personal â€“ <span class="badge">pilna versija</span></h1>
  <p class="muted">Sukurkite vertinimÄ…, iÅ¡siÅ³skite nuorodas vertintojams, surinkite JSON failus ir sugeneruokite ataskaitÄ… (Self vs Others, svoriai, radarai, komentarai).</p>
</header>

<main class="wrap">
  <section class="card">
    <h2>Naujas vertinimas</h2>
    <p>1) Ä®veskite savo vardÄ… ir projekto pavadinimÄ…. 2) Nurodykite, kiek rateriÅ³ kiekvienoje grupÄ—je. 3) Spauskite <strong>Sukurti</strong> â€“ gausite <em>Assessment ID</em> ir nuorodas.</p>

    <div class="grid2">
      <label>JÅ«sÅ³ vardas
        <input id="leaderName" placeholder="Vardas PavardÄ—" autocomplete="name">
      </label>
      <label>Projekto pavadinimas
        <input id="projectName" placeholder="pvz., 2025 Q4 lyderystÄ—s Ä¯sivertinimas">
      </label>
    </div>

    <div class="grid4">
      <label>Vadovas (boss)
        <input id="nBoss" type="number" min="0" step="1" value="1" inputmode="numeric">
      </label>
      <label>Kolegos (peer)
        <input id="nPeers" type="number" min="0" step="1" value="3" inputmode="numeric">
      </label>
      <label>Pavaldiniai (report)
        <input id="nReports" type="number" min="0" step="1" value="4" inputmode="numeric">
      </label>
      <label>Kiti (other)
        <input id="nOthers" type="number" min="0" step="1" value="2" inputmode="numeric">
      </label>
    </div>

<button id="create" type="button">Sukurti vertinimÄ…</button>
    <div id="links" class="mt"></div>
  </section>

  <section class="card">
    <h2>Ataskaita</h2>
    <p>Surinkus JSON failus iÅ¡ vertintojÅ³, atidarykite report.htmlreport.html</a> ir Ä¯kelkite juos. GalÄ—site nustatyti svorius grupÄ—ms, matyti radarÄ…, klasteriÅ³ lentelÄ™, Top 3 spragas/stiprybes, komentarus ir eksportuoti Ä¯ PDF/JSON.</p>
  </section>

  <section class="card">
    <h2>Kas tai?</h2>
    <p class="muted">Å is Ä¯rankis atkartoja 360 logikÄ… (5 klasteriai, 15 kompetencijÅ³, ~72 Likert klausimai ir radarinÄ—s vizualizacijos) asmeniniam naudojimui, remiantis vieÅ¡ai apraÅ¡yta GLA360 struktÅ«ra (Global Coach Group; LEAPING KOI; MGSCC). Tai <strong>ne oficialus</strong> GLA360 produktas ar ataskaita.</p>
  </section>

  <section id="sources" class="card">
    <h2>Nuorodos</h2>
    <ul class="muted">
      <li>Global Coach Group â€“ GLA360: https://globalcoachgroup.com/gla360/globalcoachgroup.com/gla360</a></li>
      <li>LEAPING KOI â€“ metodikos santrauka: <a href="https://www.leapingkoi.com/gla360.html" target="_blank" rel="noopener  <li>MGSCC â€“ â€From awareness to actionâ€œ: https://mgscc.net/gla360/mgscc.net/gla360</a></li>
    </ul>
  </section>
</main>

<!-- Jei turi app.global-init.js, galima Ä¯traukti Äia; bet Å¡iam puslapiui nebÅ«tina -->
<script>
(function(){
  // KonfigÅ«racija: kuriÄ… survey versijÄ… atidarinÄ—ti (hybrid rekomenduojama)
  const SURVEY_PAGE = 'survey.hybrid.html'; // jei reikia, pakeisk Ä¯ 'survey.html'

  function fallbackId(leader, project){
    const rand = Math.random().toString(36).slice(2,10);
    const ts = new Date().toISOString().replace(/[-:TZ.]/g,'').slice(0,14);
    return `${leader.replace(/\s+/g,'_')}-${ts}-${rand}`;
  }
  const getId = (leader, project) => (window.GLA && typeof GLA.newAssessmentId === 'function')
      ? GLA.newAssessmentId(leader, project)
      : fallbackId(leader, project);

  function getBaseDir(){
    // RobustiÅ¡kai suformuojame bazinÄ¯ katalogÄ… su â€/â€œ gale
    const url = new URL(location.href);
    // jei baigiasi ne â€/â€œ, nuimame failo pavadinimÄ… (pvz., index.html)
    if (!url.pathname.endsWith('/')) {
      url.pathname = url.pathname.split('/').slice(0, -1).join('/') + '/';
    }
    url.search = ''; url.hash = '';
    return url.toString();
  }

  function mkUrl(base, role, i, aid){
    const u = new URL(SURVEY_PAGE, base);
    u.searchParams.set('aid', aid);
    u.searchParams.set('role', role);
    if (i) u.searchParams.set('i', i);
    return u.toString();
  }

  document.getElementById('create').addEventListener('click', () => {
    const leader = (document.getElementById('leaderName').value || 'Lyderis').trim();
    const project = (document.getElementById('projectName').value || 'Asmeninis 360 vertinimas').trim();
    const aid = getId(leader, project);

    const n = {
      boss: Number(document.getElementById('nBoss').value) || 0,
      peer: Number(document.getElementById('nPeers').value) || 0,
      report: Number(document.getElementById('nReports').value) || 0,
      other: Number(document.getElementById('nOthers').value) || 0
    };

    const base = getBaseDir();
    const mk = (role, i) => mkUrl(base, role, i, aid);

    let html = `<p><strong>Assessment ID:</strong> <code>${aid}</code></p>`;

    // SELF â€“ viena savivertinimo nuoroda
    const selfUrl = mk('self', 1);
    html += `<p>ğŸ“ Savivertinimo nuoroda (SELF): ${selfUrl}${selfUrl}</a></p>`;

    // Kitos grupÄ—s
    ['boss','peer','report','other'].forEach(role => {
      if (n[role] > 0) {
        html += `<details open><summary>${role} (${n[role]})</summary><ol>`;
        for (let i = 1; i <= n[role]; i++) {
          const url = mk(role, i);
          html += `<li>${url}${url}</a></li>`;
        }
        html += `</ol></details>`;
      }
    });

    html += `<p class="muted">IÅ¡siÅ³skite Å¡ias nuorodas savo rateriams el. paÅ¡tu / Å¾inute. UÅ¾pildÄ™ jie atsisiÅ³s *.json ir atsiÅ³s jums.</p>`;
    document.getElementById('links').innerHTML = html;
  });
})();
</script>
</body>
</html>
